<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en" }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
    <meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta name="author" content="{{ .Site.Params.author }}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
    <meta property="og:description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ .Permalink }}">
    <meta property="twitter:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
    <meta property="twitter:description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="{{ "favicon.svg" | absURL }}">
    <link rel="icon" type="image/png" href="{{ "favicon.png" | absURL }}">
    
    <!-- Styles -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    {{ $style := resources.Get "css/main.css" }}
    {{ if $style }}
        <link rel="stylesheet" href="{{ $style.Permalink }}">
    {{ end }}
    
    <!-- Custom head content -->
    {{ block "head" . }}{{ end }}
    
    <style>
        /* Documentation specific styles */
        .docs-sidebar {
            scrollbar-width: thin;
            scrollbar-color: #cbd5e0 #f7fafc;
        }
        .docs-sidebar::-webkit-scrollbar {
            width: 6px;
        }
        .docs-sidebar::-webkit-scrollbar-track {
            background: #f7fafc;
        }
        .docs-sidebar::-webkit-scrollbar-thumb {
            background: #cbd5e0;
            border-radius: 3px;
        }
        .docs-content h1, .docs-content h2, .docs-content h3, .docs-content h4, .docs-content h5, .docs-content h6 {
            scroll-margin-top: 2rem;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">
    <!-- Header -->
    {{ partial "header.html" . }}
    
    <!-- Documentation Layout -->
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        {{ partial "docs-sidebar.html" . }}
        
        <!-- Main content area -->
        <div class="flex-1 flex">
            <!-- Content -->
            <main class="flex-1 px-6 py-8 max-w-4xl">
                <!-- Breadcrumbs -->
                {{ partial "docs-breadcrumbs.html" . }}
                
                <!-- Main content -->
                {{ block "main" . }}{{ end }}
                
                <!-- Note: No docs-navigation partial here for the search page -->
            </main>
            
            <!-- Table of Contents -->
            {{ partial "docs-toc.html" . }}
        </div>
    </div>
    
    <!-- Footer -->
    {{ partial "footer.html" . }}
    
    <!-- Scripts -->
    {{ $js := resources.Get "js/main.js" }}
    {{ if $js }}
        <script src="{{ $js.Permalink }}"></script>
    {{ end }}
    
    <!-- Search functionality -->
    {{ $searchJs := resources.Get "js/search.js" }}
    {{ if $searchJs }}
        <script src="{{ $searchJs.Permalink }}"></script>
    {{ end }}
    
    <!-- Prism.js for syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    
    <!-- Custom scripts -->
    {{ block "scripts" . }}{{ end }}
</body>
</html>