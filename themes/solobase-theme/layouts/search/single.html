{{ define "main" }}
<div class="docs-content">
    <!-- Page Header -->
    <header class="mb-8 text-center">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">{{ .Title }}</h1>
        {{ if .Description }}
        <p class="text-xl text-gray-600">{{ .Description }}</p>
        {{ end }}
    </header>
    
    <!-- Content -->
    <div class="prose prose-lg max-w-none">
        {{ .Content }}
    </div>
</div>
{{ end }}

{{ define "scripts" }}
<!-- Enhanced search functionality for dedicated search page -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const mainSearch = document.getElementById('main-search');
    const mainResults = document.getElementById('main-search-results');
    
    if (mainSearch && mainResults) {
        // Initialize enhanced search for main search page
        if (typeof DocsSearch !== 'undefined') {
            class MainDocsSearch extends DocsSearch {
                constructor() {
                    super();
                    this.searchInput = mainSearch;
                    this.searchResults = mainResults;
                    this.init();
                }
                
                displayResults(results, query) {
                    if (results.length === 0) {
                        this.displayNoResults(query);
                        return;
                    }

                    const resultsHTML = results.map(result => {
                        const highlightedTitle = this.highlightText(result.title, query);
                        const highlightedDescription = this.highlightText(result.description || '', query);
                        const excerpt = this.createExcerpt(result.content, query, 200);
                        
                        return '<div class="search-result-item p-4 hover:bg-gray-50 border-b border-gray-100 cursor-pointer" data-url="' + result.url + '">' +
                            '<div class="flex items-start justify-between">' +
                                '<div class="flex-1">' +
                                    '<h3 class="text-lg font-semibold text-gray-900 mb-2">' + highlightedTitle + '</h3>' +
                                    (highlightedDescription ? '<p class="text-sm text-gray-600 mb-3">' + highlightedDescription + '</p>' : '') +
                                    (excerpt ? '<p class="text-sm text-gray-500 mb-3">' + excerpt + '</p>' : '') +
                                    '<div class="flex items-center text-sm text-gray-400">' +
                                        '<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">' +
                                            '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>' +
                                        '</svg>' +
                                        '<span>' + result.url + '</span>' +
                                        (result.tags && result.tags.length > 0 ? 
                                            '<span class="ml-4 flex items-center space-x-1">' +
                                                result.tags.slice(0, 3).map(tag => 
                                                    '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800">' + tag + '</span>'
                                                ).join('') +
                                            '</span>' : '') +
                                    '</div>' +
                                '</div>' +
                                '<div class="ml-4 flex-shrink-0">' +
                                    '<svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">' +
                                        '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>' +
                                    '</svg>' +
                                '</div>' +
                            '</div>' +
                        '</div>';
                    }).join('');

                    this.searchResults.innerHTML = 
                        '<div class="search-results-header p-4 bg-gray-50 border-b border-gray-200">' +
                            '<div class="flex items-center justify-between">' +
                                '<span class="text-sm font-medium text-gray-700">' + results.length + ' result' + (results.length !== 1 ? 's' : '') + ' found</span>' +
                                '<button class="text-sm text-gray-500 hover:text-gray-700" onclick="this.closest(\'#main-search-results\').classList.add(\'hidden\'); document.getElementById(\'main-search\').value = \'\';">' +
                                    'Clear search' +
                                '</button>' +
                            '</div>' +
                        '</div>' +
                        resultsHTML;
                    
                    this.showResults();
                    this.bindResultEvents();
                }
                
                showResults() {
                    this.searchResults.classList.remove('hidden');
                }
                
                hideResults() {
                    this.searchResults.classList.add('hidden');
                }
            }
            
            // Initialize enhanced search
            new MainDocsSearch();
        }
    }
});
</script>
{{ end }}